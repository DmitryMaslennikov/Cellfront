const a0_0x5aa0da=a0_0x2999;(function(_0x277d84,_0x49c352){const _0x2abed1=a0_0x2999,_0x33dc40=_0x277d84();while(!![]){try{const _0x1e0193=parseInt(_0x2abed1(0x1c5))/0x1+-parseInt(_0x2abed1(0x216))/0x2+parseInt(_0x2abed1(0x20d))/0x3*(-parseInt(_0x2abed1(0x18b))/0x4)+-parseInt(_0x2abed1(0x1a3))/0x5+-parseInt(_0x2abed1(0x186))/0x6*(-parseInt(_0x2abed1(0x1f0))/0x7)+parseInt(_0x2abed1(0x1d9))/0x8*(-parseInt(_0x2abed1(0x1e7))/0x9)+parseInt(_0x2abed1(0x214))/0xa;if(_0x1e0193===_0x49c352)break;else _0x33dc40['push'](_0x33dc40['shift']());}catch(_0x5cc691){_0x33dc40['push'](_0x33dc40['shift']());}}}(a0_0x225b,0xeb977));import{GameEngine}from'./gameLogic.js';function a0_0x2999(_0x4e0182,_0x5c6462){const _0x225b32=a0_0x225b();return a0_0x2999=function(_0x2999e5,_0x42a2b8){_0x2999e5=_0x2999e5-0x169;let _0x56e587=_0x225b32[_0x2999e5];return _0x56e587;},a0_0x2999(_0x4e0182,_0x5c6462);}function a0_0x225b(){const _0x1bf9d8=['nextSoundEvent','player_place','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22stat-label\x22>\u00a0\u00a0','startScreen','pointerId','fillRect','lineTo','toggle','sounds/defeat.wav','sounds/player_place.wav','240YYPrRy','tickCount','px\x20sans-serif','clearRect','</span>\x0a\x20\x20\x20\x20\x20\x20<span\x20class=\x22stat-label\x22>\u00a0+</span>\x0a\x20\x20\x20\x20\x20\x20<span\x20class=\x22stat-value-dec\x22>','strokeRect','reinforcements','compassCtx','ringR','menuBtn','applyI18n','test','play','stop','92223mlCOrG','dataset','setParameters','center','closest','gridSizeInputs','timeReinforcements','_checkSave','speedButtons','8981sMOHpI','sounds/rein_enemy_1.wav','visibilitychange','fillText','fillStyle','</span>\x0a\x20\x20\x20\x20</span>\x0a\x20\x20','settings','processGameOver','keydown','\x0a\x20\x20<span\x20class=\x22stat-line\x22>\x0a\x20\x20\x20\x20<span\x20class=\x22stat-label\x22>','</span>\x0a\x20\x20</span>\x0a','gameOverMessage','_initSettings','sounds/rein_player_1.wav','/s</span>\x0a\x0a\x20\x20\x20\x20</span>\x0a\x20\x20','engine','countUnits','playerReinSize','_initConstants','breathDisplay','win','hidden','lastReinforcementPower','enemyRein','i18n','input,\x20textarea,\x20[contenteditable]','reinforcementsDisplay','getWinner','--fill','3kMLYFH','none','innerHTML','playerRein','Slider','innerHeight','reinforcementsSlider','30110940PyTxPz','gridSize','357494dgkaVT','enemy','#885','placements','map','click','playerOnField','replace','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22stat-value\x22>','sounds/opp_killed.wav','lang','</span>\x0a\x20\x20\x20\x20<span\x20class=\x22stat-value\x22>','exitBtn','grid','catch','overwriteConfirm','resumeBtn','avgTime','soundToggle','onTick','\x0a\x20\x20\x20\x20\x20\x20<span\x20class=\x22stat-line\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22stat-label\x22>','arc','place','compassGradient','releasePointerCapture','overwriteModal','drawCells','time','gameOverWin','addColorStop','Fld','game','playSound','drawCompass','font','enemyReinSize','setProperty','strokeStyle','getContext','round','state','startGameLoop','moveTo','exitMenu','lineWidth','phase','updateSidebarStats','overlay-active','doPlace','centerX','gameScreen','value','querySelectorAll','render','pointerdown','textAlign','gameCanvas','pointercancel','bind','enemyOnField','rgb(','running','cloneNode','reinInfo','save','langChanged','rgba(','textContent','getBoundingClientRect','victory','display','_resumeGame','padStart','toFixed','difficultySlider','width','split','sliderLevels','classList','startBtn','sounds/rein_player_2.wav','rgb(16,16,16)','find','#00c853','log2','\x0a\x20\x20\x20\x20<span\x20class=\x22stat-line\x22>\x0a\x20\x20\x20\x20\x20\x20<span\x20class=\x22stat-label\x22>','block','onclick','closeHelp','target','initSliders','overwriteCancel','_bindUI','Ally','textBaseline','speed','initSpeedControls','compassCanvas','</span>\x0a\x20\x20\x20\x20\x20\x20<span\x20class=\x22stat-value\x22>','initCompass','handleTick','pointerup','rows','centerY','addEventListener','max','parse','drawBackground','middle','nextSoundEvent2','height','helpOverlay','left','type','difficultyDisplay','sizeReinforcements','setPointerCapture','reinforcementsValue','createRadialGradient','canPlace','add','scale','cellSize','checked','remove','closeHelpBtn','_startNewGame','reinSecond','currentTime','initExit','906vACLfd','body','clientHeight','styleSlider','initSoundToggle','1751884QlwsuP','fontSize','sidebarText','soundOn','ceil','cancelOverwrite','sounds/death_nearby.wav','showScreen','breathSlider','sounds/victory.wav','difficulty','player','births','getItem','onchange','\u00a0</span>\x0a\x20\x20\x20\x20</span>\x0a\x20\x20','floor','ctx','resources','cos','interpolate3Colors','game-settings','game-state','touchAction','6950600iCxxGy','setupAnimations','toString','SLIDER_COLORS','sounds/enemy_place.wav','enemyIncome','playerReserve','gameOverScreen','showtime','Level','restore','initGrid','gameTime','breath','forEach','lose','confirmOverwrite','active','#fff','sounds','stroke','getElementById','</span>\x0a\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20','style','initRenderer','incomeE','canvas','compassR','top',':</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22stat-value\x22>','input','playerIncome','disabled','deaths','74404EiHYdj','min','beginPath','pointermove','enemyReserve','applyStateToUI','menuButton','sin','Res','start'];a0_0x225b=function(){return _0x1bf9d8;};return a0_0x225b();}import{Settings}from'./settings.js';import{loadData,saveData,clearData}from'./persistence.js';let isMouseDown=!0x1;export class Renderer{constructor(){const _0x557d0c=a0_0x2999;this['_initDOM'](),this[_0x557d0c(0x202)](),this[_0x557d0c(0x1fc)](),this[_0x557d0c(0x1ee)](),this[_0x557d0c(0x1bb)](),this[_0x557d0c(0x1ca)](),this[_0x557d0c(0x272)](),this[_0x557d0c(0x192)](_0x557d0c(0x1ce));}['_initDOM'](){const _0x50f583=a0_0x2999;this['SLIDER_COLORS']={'difficultySlider':[[0x0,0xff,0x0],[0xff,0x0,0x0],[0x0,0x0,0x0]],'breathSlider':[[0xff,0xff,0xff],[0x8e,0x24,0xaa],[0x4b,0x0,0x4b]],'reinforcementsSlider':[[0xc8,0xc8,0xc8],[0x64,0x64,0xfa],[0x0,0x0,0x78]]},this['startScreen']=document[_0x50f583(0x1b8)]('startScreen'),this[_0x50f583(0x248)]=document[_0x50f583(0x1b8)](_0x50f583(0x248)),this[_0x50f583(0x173)]=document['getElementById'](_0x50f583(0x173)),this[_0x50f583(0x1aa)]=document[_0x50f583(0x1b8)](_0x50f583(0x1aa)),this[_0x50f583(0x1bd)]=document[_0x50f583(0x1b8)](_0x50f583(0x24e)),this[_0x50f583(0x19c)]=this[_0x50f583(0x1bd)][_0x50f583(0x23c)]('2d'),this[_0x50f583(0x265)]=document[_0x50f583(0x1b8)](_0x50f583(0x265)),this[_0x50f583(0x226)]=document[_0x50f583(0x1b8)]('resumeButton'),this['howBtn']=document[_0x50f583(0x1b8)]('howButton'),this['closeHelpBtn']=document[_0x50f583(0x1b8)](_0x50f583(0x26e)),this[_0x50f583(0x1e2)]=document[_0x50f583(0x1b8)](_0x50f583(0x1cb)),this['difficultySlider']=document[_0x50f583(0x1b8)](_0x50f583(0x260)),this[_0x50f583(0x176)]=document['getElementById']('difficultyDisplay'),this[_0x50f583(0x193)]=document[_0x50f583(0x1b8)](_0x50f583(0x193)),this[_0x50f583(0x203)]=document[_0x50f583(0x1b8)]('breathValue'),this[_0x50f583(0x213)]=document[_0x50f583(0x1b8)](_0x50f583(0x213)),this[_0x50f583(0x20a)]=document[_0x50f583(0x1b8)](_0x50f583(0x179)),this[_0x50f583(0x1ec)]=document[_0x50f583(0x24a)]('input[name=\x22gridSize\x22]'),this[_0x50f583(0x21c)]=document[_0x50f583(0x1b8)](_0x50f583(0x21c)),this[_0x50f583(0x1a9)]=document[_0x50f583(0x1b8)](_0x50f583(0x1a9)),this[_0x50f583(0x1c2)]=document[_0x50f583(0x1b8)](_0x50f583(0x1c2)),this[_0x50f583(0x251)]=document['getElementById'](_0x50f583(0x251)),this[_0x50f583(0x1c9)]=document[_0x50f583(0x1b8)](_0x50f583(0x1c9)),this[_0x50f583(0x1a8)]=document[_0x50f583(0x1b8)](_0x50f583(0x1a8)),this[_0x50f583(0x1af)]=document[_0x50f583(0x1b8)](_0x50f583(0x1af)),this['timeReinforcements']=document['getElementById'](_0x50f583(0x1ed)),this['sizeReinforcements']=document[_0x50f583(0x1b8)](_0x50f583(0x177)),this[_0x50f583(0x1ef)]=document['querySelectorAll']('.speed-controls\x20button'),this['soundToggle']=document[_0x50f583(0x1b8)](_0x50f583(0x228)),this[_0x50f583(0x22f)]=document['getElementById']('overwriteModal'),this[_0x50f583(0x1b3)]=document['getElementById'](_0x50f583(0x225)),this['cancelOverwrite']=document[_0x50f583(0x1b8)](_0x50f583(0x271)),this[_0x50f583(0x1fb)]=document[_0x50f583(0x1b8)](_0x50f583(0x1fb)),this[_0x50f583(0x208)]=JSON[_0x50f583(0x16e)](document['getElementById']('i18n')['textContent']),document[_0x50f583(0x16c)](_0x50f583(0x257),_0x306bf7=>this[_0x50f583(0x1e3)](_0x306bf7['detail'])),this['applyI18n']({'lang':localStorage[_0x50f583(0x198)](_0x50f583(0x220))||'en','dict':this['i18n'][localStorage['getItem'](_0x50f583(0x220))||'en']});}[a0_0x5aa0da(0x202)](){const _0x5af8a0=a0_0x5aa0da;this[_0x5af8a0(0x17e)]=0x1,window['addEventListener']('resize',()=>{const _0x25c491=_0x5af8a0;this[_0x25c491(0x1bb)]();}),this[_0x5af8a0(0x1b6)]={'death_nearby':new Audio(_0x5af8a0(0x191)),'opp_killed':new Audio(_0x5af8a0(0x21f)),'enemy_place':new Audio(_0x5af8a0(0x1a7)),'player_place':new Audio(_0x5af8a0(0x1d8)),'victory':new Audio(_0x5af8a0(0x194)),'defeat':new Audio(_0x5af8a0(0x1d7)),'rein_enemy_1':new Audio(_0x5af8a0(0x1f1)),'rein_enemy_2':new Audio('sounds/rein_enemy_2.wav'),'rein_enemy_3':new Audio('sounds/rein_enemy_3.wav'),'rein_player_1':new Audio(_0x5af8a0(0x1fd)),'rein_player_2':new Audio(_0x5af8a0(0x266)),'rein_player_3':new Audio('sounds/rein_player_3.wav')};}[a0_0x5aa0da(0x1e3)]({lang:_0x35d78b,dict:_0x178686}){const _0x1fac34=a0_0x5aa0da;this[_0x1fac34(0x220)]=_0x35d78b,this[_0x1fac34(0x263)]=_0x178686['sliderLevels'],this[_0x1fac34(0x18d)]=_0x178686['sidebarText'],this[_0x1fac34(0x270)](),this['updateSidebarStats']();}[a0_0x5aa0da(0x1fc)](){const _0x3bcbd9=a0_0x5aa0da,_0x489cd4=loadData(_0x3bcbd9(0x1a0));this[_0x3bcbd9(0x1f6)]=_0x489cd4||new Settings(),_0x489cd4||saveData(this[_0x3bcbd9(0x1f6)],_0x3bcbd9(0x1a0));}['_checkSave'](){const _0x3eb9ef=a0_0x5aa0da,_0x3a5b96=loadData('game-state');this[_0x3eb9ef(0x226)][_0x3eb9ef(0x1c3)]=!_0x3a5b96;}[a0_0x5aa0da(0x19f)](_0x39556a,_0x432626){const _0x1ecd8d=a0_0x5aa0da;if(_0x432626<=0.5){const _0x2db7eb=_0x432626/0.5;return _0x39556a[0x0][_0x1ecd8d(0x21a)]((_0x17a1b0,_0x28811d)=>Math['round'](_0x17a1b0+(_0x39556a[0x1][_0x28811d]-_0x17a1b0)*_0x2db7eb));}{const _0x3d2c03=(_0x432626-0.5)/0.5;return _0x39556a[0x1][_0x1ecd8d(0x21a)]((_0x150830,_0x2cf79e)=>Math[_0x1ecd8d(0x23d)](_0x150830+(_0x39556a[0x2][_0x2cf79e]-_0x150830)*_0x3d2c03));}}[a0_0x5aa0da(0x189)](_0x1f3f5a){const _0x41077f=a0_0x5aa0da,_0xb1d188=(_0x1f3f5a[_0x41077f(0x249)]-_0x1f3f5a[_0x41077f(0x1c6)])/(_0x1f3f5a[_0x41077f(0x16d)]-_0x1f3f5a[_0x41077f(0x1c6)])*0x64;_0x1f3f5a[_0x41077f(0x1ba)][_0x41077f(0x23a)]('--progress',_0xb1d188+'%');const _0x2af41c=this[_0x41077f(0x1a6)][_0x1f3f5a['id']];if(!_0x2af41c)return;const _0x1a7402=(_0x1f3f5a[_0x41077f(0x249)]-_0x1f3f5a[_0x41077f(0x1c6)])/(_0x1f3f5a[_0x41077f(0x16d)]-_0x1f3f5a[_0x41077f(0x1c6)]),[_0x2ffb75,_0x11b1cd,_0x8dc77d]=this[_0x41077f(0x19f)](_0x2af41c,_0x1a7402);_0x1f3f5a['style']['setProperty'](_0x41077f(0x20c),'rgb('+_0x2ffb75+','+_0x11b1cd+','+_0x8dc77d+')');}[a0_0x5aa0da(0x270)](){const _0x11280d=a0_0x5aa0da;Object['keys'](this['sliderLevels'])[_0x11280d(0x1b1)](_0x48cc19=>{const _0x4599e2=_0x11280d,_0x238f08=this[_0x48cc19],_0x58ec4e=document[_0x4599e2(0x1b8)](_0x48cc19[_0x4599e2(0x21d)](_0x4599e2(0x211),'Value')),_0x75adc0=document[_0x4599e2(0x1b8)](_0x48cc19[_0x4599e2(0x21d)]('Slider',_0x4599e2(0x1ac))),_0x1c5e66=this['sliderLevels'][_0x48cc19],_0x354e84=()=>{const _0x44866f=_0x4599e2;this[_0x44866f(0x189)](_0x238f08),_0x58ec4e[_0x44866f(0x259)]=_0x238f08[_0x44866f(0x249)]+'%';const _0x314733=_0x1c5e66[_0x44866f(0x268)](_0x2bde39=>_0x238f08['value']>=_0x2bde39[0x0]&&_0x238f08[_0x44866f(0x249)]<=_0x2bde39[0x1]);_0x75adc0[_0x44866f(0x259)]=_0x314733?_0x314733[0x2]:'';};_0x354e84(),_0x238f08[_0x4599e2(0x16c)](_0x4599e2(0x1c1),_0x354e84);});}[a0_0x5aa0da(0x1bb)](){const _0x5022c9=a0_0x5aa0da,_0x1c8e0f=0.77*window['innerWidth'],_0x5b78f4=0.97*window[_0x5022c9(0x212)];if(document['documentElement'][_0x5022c9(0x1ba)][_0x5022c9(0x18c)]=Math['min'](_0x1c8e0f,1.5*_0x5b78f4)/46.7+'px',!this[_0x5022c9(0x1ff)]?.[_0x5022c9(0x23e)])return;const _0x153404=this['canvas'],{rows:_0x204bf9,cols:_0x4437ae}=(this['wrapper'],this[_0x5022c9(0x1ff)][_0x5022c9(0x23e)][_0x5022c9(0x215)]);this['cellSize']=Math[_0x5022c9(0x16d)](0x1,Math[_0x5022c9(0x19b)](Math[_0x5022c9(0x1c6)](_0x1c8e0f/_0x4437ae,_0x5b78f4/_0x204bf9))),Math[_0x5022c9(0x16d)](0x3,0.6*this[_0x5022c9(0x17e)]),(_0x153404['width']=_0x4437ae*this[_0x5022c9(0x17e)],_0x153404[_0x5022c9(0x172)]=_0x204bf9*this[_0x5022c9(0x17e)],_0x153404[_0x5022c9(0x1ba)][_0x5022c9(0x261)]=_0x4437ae*this[_0x5022c9(0x17e)]+'px',_0x153404[_0x5022c9(0x1ba)]['height']=_0x204bf9*this[_0x5022c9(0x17e)]+'px');let _0x30a95e=_0x153404[_0x5022c9(0x23c)]('2d');_0x30a95e[_0x5022c9(0x238)]=Math[_0x5022c9(0x19b)](0.8*this[_0x5022c9(0x17e)])+_0x5022c9(0x1db),_0x30a95e[_0x5022c9(0x24d)]=_0x5022c9(0x1ea),_0x30a95e[_0x5022c9(0x274)]='middle',_0x153404[_0x5022c9(0x1ba)][_0x5022c9(0x1a2)]=_0x5022c9(0x20e);let _0x12b245=!0x1;const _0x50eaaa=_0x603718=>{const _0x15aa66=_0x5022c9;switch(_0x603718[_0x15aa66(0x175)]){case'pointerdown':_0x12b245=!0x0,_0x153404[_0x15aa66(0x178)](_0x603718[_0x15aa66(0x1d3)]),this[_0x15aa66(0x246)](_0x603718);break;case _0x15aa66(0x1c8):if(!_0x12b245)return;this[_0x15aa66(0x246)](_0x603718);break;case _0x15aa66(0x169):case _0x15aa66(0x24f):_0x12b245=!0x1,_0x153404[_0x15aa66(0x22e)](_0x603718[_0x15aa66(0x1d3)]);}};[_0x5022c9(0x24c),_0x5022c9(0x1c8),_0x5022c9(0x169),_0x5022c9(0x24f)]['forEach'](_0x5c249d=>_0x153404[_0x5022c9(0x16c)](_0x5c249d,_0x50eaaa)),this[_0x5022c9(0x279)](),document['addEventListener'](_0x5022c9(0x1f8),({key:_0x391e3b,target:_0x46b585,preventDefault:_0x2d2479})=>{const _0x12b6b7=_0x5022c9;/^[1-5]$/[_0x12b6b7(0x1e4)](_0x391e3b)&&(_0x46b585[_0x12b6b7(0x1eb)](_0x12b6b7(0x209))||this[_0x12b6b7(0x1ef)][+_0x391e3b-0x1][_0x12b6b7(0x21b)]());}),this[_0x5022c9(0x1ff)][_0x5022c9(0x229)](this[_0x5022c9(0x1ff)][_0x5022c9(0x23e)],{'births':this[_0x5022c9(0x1ff)]['births'],'deaths':this[_0x5022c9(0x1ff)][_0x5022c9(0x1c4)],'placements':this[_0x5022c9(0x1ff)][_0x5022c9(0x219)]});}[a0_0x5aa0da(0x246)](_0x4773ea){const _0x55f54b=a0_0x5aa0da;if(!this[_0x55f54b(0x1ff)]['state'][_0x55f54b(0x253)])return;const _0x387ad3=this[_0x55f54b(0x1bd)][_0x55f54b(0x25a)](),_0x5e8957=Math[_0x55f54b(0x19b)]((_0x4773ea['clientX']-_0x387ad3[_0x55f54b(0x174)])/this[_0x55f54b(0x17e)]),_0x168837=Math[_0x55f54b(0x19b)]((_0x4773ea['clientY']-_0x387ad3[_0x55f54b(0x1bf)])/this[_0x55f54b(0x17e)]);this[_0x55f54b(0x1ff)][_0x55f54b(0x17b)](0x1,_0x168837,_0x5e8957)&&(this['engine'][_0x55f54b(0x22c)](0x1,_0x168837,_0x5e8957),this[_0x55f54b(0x1ff)][_0x55f54b(0x219)][_0x168837+','+_0x5e8957]={'time':this[_0x55f54b(0x1ff)][_0x55f54b(0x23e)][_0x55f54b(0x1da)],'type':'player'},this['drawCells']({'births':this[_0x55f54b(0x1ff)][_0x55f54b(0x197)],'deaths':this['engine'][_0x55f54b(0x1c4)],'placements':this['engine'][_0x55f54b(0x219)]}),this[_0x55f54b(0x236)](_0x55f54b(0x1d0)));}[a0_0x5aa0da(0x276)](){const _0x5df91f=a0_0x5aa0da;this[_0x5df91f(0x1ef)]['forEach'](_0x6fea06=>{_0x6fea06['onclick']=()=>{const _0x5c40f2=a0_0x2999,_0x31a51f=Number(_0x6fea06[_0x5c40f2(0x1e8)]['speed']);this[_0x5c40f2(0x1ff)][_0x5c40f2(0x23e)][_0x5c40f2(0x275)]=_0x31a51f,this['applyStateToUI']();};});const _0x42ac54=()=>{const _0x5a6bb5=_0x5df91f;this[_0x5a6bb5(0x1ff)]?.[_0x5a6bb5(0x23e)]&&this[_0x5a6bb5(0x1ef)][0x0][_0x5a6bb5(0x21b)]();};document[_0x5df91f(0x16c)](_0x5df91f(0x1f2),()=>{const _0x505b63=_0x5df91f;document[_0x505b63(0x205)]&&_0x42ac54();}),window[_0x5df91f(0x16c)]('blur',_0x42ac54);}[a0_0x5aa0da(0x18a)](){const _0x520033=a0_0x5aa0da;this[_0x520033(0x228)][_0x520033(0x199)]=_0x34fea6=>{const _0x256d9d=_0x520033;this[_0x256d9d(0x1f6)][_0x256d9d(0x18e)]=_0x34fea6[_0x256d9d(0x26f)][_0x256d9d(0x17f)],saveData(this[_0x256d9d(0x1f6)],_0x256d9d(0x1a0));};}['initExit'](){const _0x2f5634=a0_0x5aa0da;this[_0x2f5634(0x222)]=document['getElementById'](_0x2f5634(0x241)),this['exitBtn'][_0x2f5634(0x26d)]=()=>{const _0x15f82d=_0x2f5634;this[_0x15f82d(0x1ff)][_0x15f82d(0x1e6)](),this[_0x15f82d(0x226)][_0x15f82d(0x1c3)]=!0x1,this[_0x15f82d(0x192)](_0x15f82d(0x1ce));};}[a0_0x5aa0da(0x16f)](){const _0x5d5e2f=a0_0x5aa0da,{rows:_0x462fb5,cols:_0x4e61f0}=this[_0x5d5e2f(0x1ff)]['state'][_0x5d5e2f(0x215)],_0x50c7fb=this[_0x5d5e2f(0x17e)];let _0x388ec9,_0x5c27c1,_0x21a310;this['engine']['lastReinforcementPower']>0x0?(_0x5c27c1=Math[_0x5d5e2f(0x1c6)](0x30+Math[_0x5d5e2f(0x19b)](this[_0x5d5e2f(0x1ff)][_0x5d5e2f(0x206)]**0.4*0x14),0x64),_0x388ec9=Math[_0x5d5e2f(0x16d)](0x30-Math[_0x5d5e2f(0x19b)](this[_0x5d5e2f(0x1ff)]['lastReinforcementPower']**0.4*0x14),0x0),_0x21a310=Math['max'](0x60-Math[_0x5d5e2f(0x16d)](_0x388ec9,_0x5c27c1),0x0)):(_0x388ec9=Math[_0x5d5e2f(0x1c6)](0x30+Math['floor']((-this[_0x5d5e2f(0x1ff)][_0x5d5e2f(0x206)])**0.4*0x14),0x64),_0x5c27c1=Math['max'](0x30-Math[_0x5d5e2f(0x19b)]((-this[_0x5d5e2f(0x1ff)]['lastReinforcementPower'])**0.4*0x14),0x0),_0x21a310=Math[_0x5d5e2f(0x16d)](0x60-Math[_0x5d5e2f(0x16d)](_0x388ec9,_0x5c27c1),0x0)),this['ctx'][_0x5d5e2f(0x1f4)]=_0x5d5e2f(0x267),this[_0x5d5e2f(0x19c)]['fillRect'](0x0,0x0,_0x4e61f0*_0x50c7fb,_0x462fb5*_0x50c7fb),this[_0x5d5e2f(0x19c)]['strokeStyle']=_0x5d5e2f(0x252)+_0x388ec9+','+_0x5c27c1+','+_0x21a310+')',this[_0x5d5e2f(0x19c)][_0x5d5e2f(0x242)]=Math[_0x5d5e2f(0x26a)](0x2+Math['max'](_0x388ec9-0x30,_0x5c27c1-0x30)/0x4)/_0x462fb5*0x19;for(let _0x400165=_0x50c7fb;_0x400165<_0x4e61f0*_0x50c7fb;_0x400165+=_0x50c7fb)this[_0x5d5e2f(0x19c)][_0x5d5e2f(0x1c7)](),this[_0x5d5e2f(0x19c)][_0x5d5e2f(0x240)](_0x400165,0x0),this[_0x5d5e2f(0x19c)][_0x5d5e2f(0x1d5)](_0x400165,_0x462fb5*_0x50c7fb),this[_0x5d5e2f(0x19c)][_0x5d5e2f(0x1b7)]();for(let _0x1e6e1f=_0x50c7fb;_0x1e6e1f<_0x462fb5*_0x50c7fb;_0x1e6e1f+=_0x50c7fb)this[_0x5d5e2f(0x19c)][_0x5d5e2f(0x1c7)](),this[_0x5d5e2f(0x19c)][_0x5d5e2f(0x240)](0x0,_0x1e6e1f),this[_0x5d5e2f(0x19c)][_0x5d5e2f(0x1d5)](_0x4e61f0*_0x50c7fb,_0x1e6e1f),this[_0x5d5e2f(0x19c)][_0x5d5e2f(0x1b7)]();}['_bindUI'](){const _0x3fe9d3=a0_0x5aa0da;this[_0x3fe9d3(0x265)][_0x3fe9d3(0x26d)]=()=>this[_0x3fe9d3(0x182)](),this[_0x3fe9d3(0x226)][_0x3fe9d3(0x26d)]=()=>this['_resumeGame'](),this['howBtn']['onclick']=()=>this['helpOverlay'][_0x3fe9d3(0x205)]=!0x1,this[_0x3fe9d3(0x181)][_0x3fe9d3(0x26d)]=()=>this['helpOverlay'][_0x3fe9d3(0x205)]=!0x0,this[_0x3fe9d3(0x1e2)][_0x3fe9d3(0x26d)]=()=>{const _0x5481c5=_0x3fe9d3;this['showScreen'](_0x5481c5(0x1ce)),this[_0x5481c5(0x1aa)][_0x5481c5(0x205)]=!0x0;},this[_0x3fe9d3(0x270)](),this[_0x3fe9d3(0x276)](),this[_0x3fe9d3(0x18a)](),this[_0x3fe9d3(0x185)](),this[_0x3fe9d3(0x1b3)][_0x3fe9d3(0x26d)]=()=>{const _0x2fb1d6=_0x3fe9d3;this[_0x2fb1d6(0x22f)][_0x2fb1d6(0x264)][_0x2fb1d6(0x17c)](_0x2fb1d6(0x205)),this[_0x2fb1d6(0x182)](!0x0);},this[_0x3fe9d3(0x190)][_0x3fe9d3(0x26d)]=()=>this[_0x3fe9d3(0x22f)][_0x3fe9d3(0x264)]['add']('hidden'),this[_0x3fe9d3(0x1bd)][_0x3fe9d3(0x16c)](_0x3fe9d3(0x21b),_0x5ea04f=>this[_0x3fe9d3(0x246)](_0x5ea04f));}[a0_0x5aa0da(0x182)](_0x371f47=!0x1){const _0x432bb4=a0_0x5aa0da;if(!_0x371f47&&loadData('game-state'))return void this[_0x432bb4(0x22f)][_0x432bb4(0x264)][_0x432bb4(0x180)]('hidden');this[_0x432bb4(0x192)](_0x432bb4(0x235));const _0x3c33ee=Array['from'](this[_0x432bb4(0x1ec)])['find'](_0x1e6029=>_0x1e6029[_0x432bb4(0x17f)]);if(_0x3c33ee){const [_0x28915e,_0x1d2c21]=_0x3c33ee['value'][_0x432bb4(0x262)]('x')['map'](Number);this[_0x432bb4(0x1ff)]=new GameEngine(_0x28915e,_0x1d2c21,{'onTick':this[_0x432bb4(0x27a)]['bind'](this),'onGameOver':this[_0x432bb4(0x1f7)][_0x432bb4(0x250)](this),'onSound':this[_0x432bb4(0x236)][_0x432bb4(0x250)](this)}),this[_0x432bb4(0x1f6)][_0x432bb4(0x215)]={'rows':_0x28915e,'cols':_0x1d2c21};}this[_0x432bb4(0x1f6)]['difficulty']=Number(this[_0x432bb4(0x260)][_0x432bb4(0x249)])/0x64,this['settings'][_0x432bb4(0x1b0)]=Number(this[_0x432bb4(0x193)][_0x432bb4(0x249)])/0x64,this[_0x432bb4(0x1f6)]['reinforcements']=Number(this[_0x432bb4(0x213)][_0x432bb4(0x249)])/0x64,this['initRenderer'](),this[_0x432bb4(0x1ff)][_0x432bb4(0x1ae)](),this[_0x432bb4(0x1ff)][_0x432bb4(0x1e9)](this[_0x432bb4(0x1f6)]),this[_0x432bb4(0x1ff)][_0x432bb4(0x1a4)](),this[_0x432bb4(0x1ff)]['startGameLoop'](),this[_0x432bb4(0x1ca)](),saveData(this[_0x432bb4(0x1f6)],_0x432bb4(0x1a0));}['handleTick'](_0x4a5838,_0x2be6d9){const _0x5f43c3=a0_0x5aa0da;this[_0x5f43c3(0x24b)](_0x2be6d9);}[a0_0x5aa0da(0x25d)](){const _0x32b301=a0_0x5aa0da,_0x1e9681=loadData('game-state');_0x1e9681&&(this[_0x32b301(0x1ff)]=new GameEngine(_0x1e9681[_0x32b301(0x215)][_0x32b301(0x16a)],_0x1e9681[_0x32b301(0x215)]['cols'],{'onTick':this['handleTick']['bind'](this),'onGameOver':this[_0x32b301(0x1f7)][_0x32b301(0x250)](this),'onSound':this['playSound'][_0x32b301(0x250)](this)}),this[_0x32b301(0x1ff)][_0x32b301(0x23e)]=_0x1e9681),this[_0x32b301(0x1ca)](),this['showScreen'](_0x32b301(0x235)),this[_0x32b301(0x1bb)](),this['engine'][_0x32b301(0x1a4)](),this[_0x32b301(0x1ff)][_0x32b301(0x23f)]();}[a0_0x5aa0da(0x192)](_0x458bb2){const _0x118af1=a0_0x5aa0da;this[_0x118af1(0x1d2)][_0x118af1(0x1ba)][_0x118af1(0x25c)]=_0x118af1(0x1ce)===_0x458bb2?_0x118af1(0x26c):_0x118af1(0x20e),this['gameScreen'][_0x118af1(0x1ba)][_0x118af1(0x25c)]=_0x118af1(0x235)===_0x458bb2?'flex':_0x118af1(0x20e),this[_0x118af1(0x1aa)]['style'][_0x118af1(0x25c)]='none';}[a0_0x5aa0da(0x236)](_0x3afdcd){const _0x40859b=a0_0x5aa0da;if(!this[_0x40859b(0x1f6)][_0x40859b(0x18e)])return;const _0x4e33a2=this[_0x40859b(0x1b6)][_0x3afdcd][_0x40859b(0x254)](!0x0);_0x4e33a2[_0x40859b(0x184)]=0x0,_0x4e33a2[_0x40859b(0x1e5)]()[_0x40859b(0x224)](()=>{});}[a0_0x5aa0da(0x230)](_0x5f45c2={}){const _0x4ac454=a0_0x5aa0da,{births:_0x5645d4,deaths:_0x548500,placements:_0x1a4e01}=_0x5f45c2,{rows:_0xd756eb,cols:_0x235b09}=this[_0x4ac454(0x1ff)]['state'][_0x4ac454(0x215)],_0x268e42=this['engine'][_0x4ac454(0x23e)][_0x4ac454(0x223)],_0x46244a=this['engine']['state'][_0x4ac454(0x1da)],_0x57601c=Math[_0x4ac454(0x18f)](0x14),_0xad49fa=Math[_0x4ac454(0x1c6)](this['canvas']['clientWidth']/_0x235b09,this[_0x4ac454(0x1bd)][_0x4ac454(0x188)]/_0xd756eb);this[_0x4ac454(0x17e)]=_0xad49fa;const _0xb2d931=this['ctx'];_0xb2d931['textAlign']=_0x4ac454(0x1ea),_0xb2d931[_0x4ac454(0x274)]=_0x4ac454(0x170),_0xb2d931['font']=Math['floor'](0.8*_0xad49fa)+_0x4ac454(0x1db);const _0x485208=(_0x201c8c,_0x4bab95)=>_0x4ac454(0x258)+_0x201c8c[0x0]+','+_0x201c8c[0x1]+','+_0x201c8c[0x2]+','+_0x4bab95+')',_0x5984d8={0x1:[0x0,0xc8,0x0],'-1':[0xc8,0x0,0x0]};this['drawBackground']();for(let _0x3e6e0d=0x0;_0x3e6e0d<_0xd756eb;_0x3e6e0d++)for(let _0x354c05=0x0;_0x354c05<_0x235b09;_0x354c05++){const _0x586e91=_0x268e42[_0x3e6e0d][_0x354c05],_0x3682ab=_0x3e6e0d+','+_0x354c05,_0x302489=_0x354c05*_0xad49fa+0x1,_0x50bfa6=_0x3e6e0d*_0xad49fa+0x1,_0x244a26=Math[_0x4ac454(0x16d)](_0xad49fa-0x2,0x1),_0x66e477=Math[_0x4ac454(0x16d)](_0xad49fa-0x2,0x1),_0x159896=_0x302489+_0x244a26/0x2,_0x39e269=_0x50bfa6+_0x66e477/0x2;if(null!=_0x548500&&null!=_0x548500[_0x3682ab]){const _0x1c7fc5=_0x46244a-_0x548500[_0x3682ab];if(_0x1c7fc5<_0x57601c){const _0x1fdd09=_0x1c7fc5/_0x57601c;_0xb2d931['save'](),_0xb2d931['strokeStyle']=_0x485208([0xc8,0xc8,0xc8],0x1-0.7*_0x1fdd09),_0xb2d931[_0x4ac454(0x242)]=0x2,_0xb2d931[_0x4ac454(0x1c7)](),_0xb2d931[_0x4ac454(0x22b)](_0x159896,_0x39e269,_0xad49fa/0x2*(0.5+0.5*_0x1fdd09),0x0,0x2*Math['PI']),_0xb2d931[_0x4ac454(0x1b7)](),_0xb2d931['restore']();}else delete _0x548500[_0x3682ab];}if(!_0x586e91)continue;const _0x1a142f=_0x5984d8[_0x586e91],_0x14c96b=_0xb2d931[_0x4ac454(0x17a)](_0x159896,_0x39e269,0.2*_0x244a26,_0x159896,_0x39e269,0.6*_0x244a26);_0x14c96b[_0x4ac454(0x233)](0x0,_0x485208(_0x1a142f,0x1)),_0x14c96b[_0x4ac454(0x233)](0x1,_0x485208(_0x1a142f,0.2)),_0xb2d931[_0x4ac454(0x1f4)]=_0x14c96b,_0xb2d931[_0x4ac454(0x1d4)](_0x302489,_0x50bfa6,_0x244a26,_0x66e477);const _0x2443f6=_0x1a4e01[_0x3682ab];if(_0x2443f6){const _0x33d3e4=_0x46244a-_0x2443f6[_0x4ac454(0x231)];if(_0x33d3e4<_0x57601c){const _0x1d96f6=0x1-_0x33d3e4/_0x57601c;_0xb2d931[_0x4ac454(0x256)](),_0xb2d931['strokeStyle']=_0x485208(_0x1a142f,_0x1d96f6),_0xb2d931[_0x4ac454(0x242)]=0x2+0x4*_0x1d96f6,_0xb2d931[_0x4ac454(0x1de)](_0x302489+0x1,_0x50bfa6+0x1,_0x244a26-0x2,_0x66e477-0x2),_0xb2d931[_0x4ac454(0x1ad)]();}else delete _0x1a4e01[_0x3682ab];}const _0x39037f=_0x5645d4[_0x3682ab];if(null!=_0x39037f){const _0x18f72b=_0x46244a-_0x39037f;if(_0x18f72b<_0x57601c){const _0x527ec4=_0x18f72b/_0x57601c;_0xb2d931[_0x4ac454(0x256)](),_0xb2d931[_0x4ac454(0x23b)]=_0x485208(_0x1a142f,0x1-_0x527ec4),_0xb2d931[_0x4ac454(0x242)]=0x2*(0x1-_0x527ec4)+0x1,_0xb2d931[_0x4ac454(0x1c7)](),_0xb2d931[_0x4ac454(0x22b)](_0x159896,_0x39e269,_0xad49fa/0x2*(0.3+0.7*_0x527ec4),0x0,0x2*Math['PI']),_0xb2d931[_0x4ac454(0x1b7)](),_0xb2d931['restore'](),_0xb2d931['save'](),_0xb2d931['globalAlpha']=0.5+0.5*_0x527ec4,_0xb2d931['translate'](_0x159896,_0x39e269);const _0x204aab=0.6+0.4*_0x527ec4;_0xb2d931[_0x4ac454(0x17d)](_0x204aab,_0x204aab),_0xb2d931[_0x4ac454(0x1f4)]=_0x4ac454(0x1b5),_0xb2d931['fillText'](0x1===_0x586e91?'●':'○',0x0,0x0),_0xb2d931['restore']();}else delete _0x5645d4[_0x3682ab],_0xb2d931[_0x4ac454(0x1f4)]=_0x4ac454(0x1b5),_0xb2d931[_0x4ac454(0x1f3)](0x1===_0x586e91?'●':'○',_0x159896,_0x39e269);}else _0xb2d931['fillStyle']=_0x4ac454(0x1b5),_0xb2d931[_0x4ac454(0x1f3)](0x1===_0x586e91?'●':'○',_0x159896,_0x39e269);}}[a0_0x5aa0da(0x1ab)](){const _0x46272a=a0_0x5aa0da,_0x20e9ff=Math[_0x46272a(0x19b)](0.02*this[_0x46272a(0x1ff)][_0x46272a(0x23e)]['tickCount']);return Math[_0x46272a(0x19b)](_0x20e9ff/0xe10)['toString']()[_0x46272a(0x25e)](0x2,'0')+':'+Math[_0x46272a(0x19b)](_0x20e9ff%0xe10/0x3c)[_0x46272a(0x1a5)]()[_0x46272a(0x25e)](0x2,'0')+':'+(_0x20e9ff%0x3c)[_0x46272a(0x1a5)]()[_0x46272a(0x25e)](0x2,'0');}[a0_0x5aa0da(0x244)](){const _0x2c96e8=a0_0x5aa0da;if(!this[_0x2c96e8(0x1ff)]?.[_0x2c96e8(0x23e)])return;const {player:_0x28a80b,enemy:_0xda2e0e}=this[_0x2c96e8(0x1ff)][_0x2c96e8(0x23e)][_0x2c96e8(0x200)](),_0x1695c4=this[_0x2c96e8(0x1ff)][_0x2c96e8(0x23e)][_0x2c96e8(0x210)],_0xca25b5=this[_0x2c96e8(0x1ff)]['state'][_0x2c96e8(0x207)],_0x3859df=this['engine']['state'][_0x2c96e8(0x19d)];if(this[_0x2c96e8(0x1af)],this['gameTime'][_0x2c96e8(0x20f)]=_0x2c96e8(0x26b)+this[_0x2c96e8(0x1ab)]()+_0x2c96e8(0x19a),this[_0x2c96e8(0x21c)][_0x2c96e8(0x20f)]=_0x2c96e8(0x1f9)+this[_0x2c96e8(0x18d)][_0x2c96e8(0x234)]+_0x2c96e8(0x221)+_0x28a80b+'</span>\x0a\x20\x20\x20\x20<span\x20class=\x22stat-label\x22>'+this[_0x2c96e8(0x18d)][_0x2c96e8(0x273)]+_0x2c96e8(0x221)+_0x1695c4[_0x2c96e8(0x25f)](0x0)+_0x2c96e8(0x1fa),this[_0x2c96e8(0x251)][_0x2c96e8(0x20f)]=_0x2c96e8(0x26b)+this['sidebarText'][_0x2c96e8(0x234)]+_0x2c96e8(0x278)+_0xda2e0e+'</span>\x0a\x20\x20<span\x20class=\x22stat-label\x22>'+this[_0x2c96e8(0x18d)][_0x2c96e8(0x273)]+_0x2c96e8(0x278)+_0xca25b5[_0x2c96e8(0x25f)](0x0)+_0x2c96e8(0x1f5),this[_0x2c96e8(0x1a9)][_0x2c96e8(0x20f)]='\x0a\x20\x20\x20\x20<span\x20class=\x22stat-line\x22>\x0a\x20\x20\x20\x20\x20\x20<span\x20class=\x22stat-label\x22>'+this[_0x2c96e8(0x18d)][_0x2c96e8(0x1cd)]+_0x2c96e8(0x278)+Math[_0x2c96e8(0x19b)](_0x3859df[_0x2c96e8(0x196)])+_0x2c96e8(0x1dd)+_0x3859df['incomeP'][_0x2c96e8(0x25f)](0x2)+_0x2c96e8(0x1fe),this[_0x2c96e8(0x1c9)][_0x2c96e8(0x20f)]=_0x2c96e8(0x26b)+this[_0x2c96e8(0x18d)][_0x2c96e8(0x1cd)]+_0x2c96e8(0x278)+Math[_0x2c96e8(0x19b)](_0x3859df[_0x2c96e8(0x217)])+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22stat-label\x22>\u00a0+</span>\x0a\x20\x20\x20\x20\x20\x20<span\x20class=\x22stat-value-dec\x22>'+_0x3859df[_0x2c96e8(0x1bc)][_0x2c96e8(0x25f)](0x2)+'/s</span>\x0a\x0a\x20\x20\x20\x20</span>\x0a\x20\x20',this[_0x2c96e8(0x1ff)][_0x2c96e8(0x23e)]?.[_0x2c96e8(0x255)]){const _0x282a5b=this[_0x2c96e8(0x1ff)][_0x2c96e8(0x23e)]['reinInfo'];this[_0x2c96e8(0x1ff)]['state'][_0x2c96e8(0x1df)]>0x0?(this[_0x2c96e8(0x1ed)]['innerHTML']=_0x2c96e8(0x22a)+this[_0x2c96e8(0x18d)][_0x2c96e8(0x227)]+_0x2c96e8(0x21e)+Math['floor'](0x1/_0x282a5b[_0x2c96e8(0x183)])+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22stat-label\x22>s</span>\x0a\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20',this['sizeReinforcements']['innerHTML']=_0x2c96e8(0x22a)+this[_0x2c96e8(0x18d)]['You']+':</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22stat-value\x22>'+Math['floor'](_0x282a5b[_0x2c96e8(0x201)])+_0x2c96e8(0x1d1)+this[_0x2c96e8(0x18d)]['Ai']+_0x2c96e8(0x1c0)+Math[_0x2c96e8(0x19b)](_0x282a5b[_0x2c96e8(0x239)])+_0x2c96e8(0x1b9)):this[_0x2c96e8(0x177)][_0x2c96e8(0x20f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22stat-line\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22stat-label\x22>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0-----\u00a0\u00a0\u00a0\u00a0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20',this[_0x2c96e8(0x176)][_0x2c96e8(0x259)]=Math[_0x2c96e8(0x23d)](0x64*this['engine'][_0x2c96e8(0x23e)]['difficulty'])+'%';}}[a0_0x5aa0da(0x24b)](_0x5400b6={}){const _0x30e98b=a0_0x5aa0da;if(this[_0x30e98b(0x230)](_0x5400b6),this[_0x30e98b(0x237)](this['engine'][_0x30e98b(0x23e)][_0x30e98b(0x243)]),this[_0x30e98b(0x244)](),this[_0x30e98b(0x1ff)][_0x30e98b(0x1cf)]&&(this['playSound'](this[_0x30e98b(0x1ff)][_0x30e98b(0x1cf)]),this[_0x30e98b(0x1ff)][_0x30e98b(0x1cf)]=null),this[_0x30e98b(0x1ff)][_0x30e98b(0x171)]&&(this['playSound'](this[_0x30e98b(0x1ff)]['nextSoundEvent2']),this[_0x30e98b(0x1ff)]['nextSoundEvent2']=null),this['engine']['state']['running']){let _0x390e1d=this[_0x30e98b(0x1ff)][_0x30e98b(0x20b)]();_0x390e1d&&this['processGameOver'](_0x390e1d);}}[a0_0x5aa0da(0x1f7)](_0x17bf49){const _0x570dcc=a0_0x5aa0da;this[_0x570dcc(0x1ff)]['state'][_0x570dcc(0x253)]=!0x1,this[_0x570dcc(0x1ff)][_0x570dcc(0x1e6)]();const _0x3df82d=_0x570dcc(0x196)==_0x17bf49;this['gameOverMessage']['textContent']=_0x3df82d?this[_0x570dcc(0x18d)][_0x570dcc(0x232)]:this[_0x570dcc(0x18d)]['gameOverLose'],this[_0x570dcc(0x1aa)][_0x570dcc(0x264)]['toggle'](_0x570dcc(0x204),_0x3df82d),this[_0x570dcc(0x1aa)][_0x570dcc(0x264)]['toggle'](_0x570dcc(0x1b2),!_0x3df82d),this[_0x570dcc(0x1aa)]['hidden']=!0x1,this['gameOverScreen'][_0x570dcc(0x1ba)][_0x570dcc(0x25c)]=_0x570dcc(0x26c),document[_0x570dcc(0x187)][_0x570dcc(0x264)]['add'](_0x570dcc(0x245)),this[_0x570dcc(0x236)](_0x3df82d?_0x570dcc(0x25b):'defeat'),this[_0x570dcc(0x226)]['disabled']=!0x0,clearData(_0x570dcc(0x1a1));}[a0_0x5aa0da(0x1ca)](){const _0x699d55=a0_0x5aa0da,_0x40e5a2=this['engine']?.[_0x699d55(0x23e)]??null,_0x464c16=this[_0x699d55(0x1f6)];this[_0x699d55(0x260)][_0x699d55(0x249)]=0x64*_0x464c16[_0x699d55(0x195)],this[_0x699d55(0x189)](this[_0x699d55(0x260)]),this['difficultyDisplay'][_0x699d55(0x259)]=Math[_0x699d55(0x23d)](0x64*_0x464c16[_0x699d55(0x195)])+'%',this[_0x699d55(0x193)][_0x699d55(0x249)]=0x64*_0x464c16['breath'],this[_0x699d55(0x189)](this['breathSlider']),this[_0x699d55(0x203)][_0x699d55(0x259)]=Math[_0x699d55(0x23d)](0x64*_0x464c16[_0x699d55(0x1b0)])+'%',this[_0x699d55(0x213)]['value']=0x64*_0x464c16[_0x699d55(0x1df)],this[_0x699d55(0x189)](this[_0x699d55(0x213)]),this[_0x699d55(0x20a)][_0x699d55(0x259)]=Math['round'](0x64*_0x464c16[_0x699d55(0x1df)])+'%';const _0x43a54b=_0x464c16[_0x699d55(0x215)][_0x699d55(0x16a)]+'x'+_0x464c16[_0x699d55(0x215)]['cols'];this[_0x699d55(0x1ec)][_0x699d55(0x1b1)](_0x2eec36=>_0x2eec36[_0x699d55(0x17f)]=_0x2eec36[_0x699d55(0x249)]===_0x43a54b);const _0x4ff96f=_0x40e5a2?.[_0x699d55(0x275)]??0x1;this[_0x699d55(0x1ef)]['forEach'](_0x5adceb=>{const _0x554c46=_0x699d55,_0x1f46f0=+_0x5adceb[_0x554c46(0x1e8)]['speed'];_0x5adceb[_0x554c46(0x264)][_0x554c46(0x1d6)](_0x554c46(0x1b4),_0x1f46f0===_0x4ff96f),_0x5adceb[_0x554c46(0x1c3)]=!0x1;}),this[_0x699d55(0x228)][_0x699d55(0x17f)]=_0x464c16['soundOn'];}['initCompass'](){const _0x3dbbea=a0_0x5aa0da;this[_0x3dbbea(0x277)]=document[_0x3dbbea(0x1b8)](_0x3dbbea(0x277)),this[_0x3dbbea(0x1e0)]=this[_0x3dbbea(0x277)][_0x3dbbea(0x23c)]('2d'),this[_0x3dbbea(0x247)]=this[_0x3dbbea(0x277)][_0x3dbbea(0x261)]/0x2,this[_0x3dbbea(0x16b)]=this[_0x3dbbea(0x277)][_0x3dbbea(0x172)]/0x2,this[_0x3dbbea(0x1be)]=Math[_0x3dbbea(0x1c6)](this[_0x3dbbea(0x247)],this[_0x3dbbea(0x16b)]),this[_0x3dbbea(0x1e1)]=0.96*this[_0x3dbbea(0x1be)];const _0x49f089=this[_0x3dbbea(0x1e0)]['createConicGradient'](0x0,this['centerX'],this[_0x3dbbea(0x16b)]);_0x49f089[_0x3dbbea(0x233)](0x0,_0x3dbbea(0x218)),_0x49f089['addColorStop'](0.25,_0x3dbbea(0x269)),_0x49f089['addColorStop'](0.5,_0x3dbbea(0x218)),_0x49f089[_0x3dbbea(0x233)](0.75,'#d50000'),_0x49f089['addColorStop'](0x1,_0x3dbbea(0x218)),this['compassGradient']=_0x49f089;}[a0_0x5aa0da(0x237)](_0x22dd98){const _0x3f6d03=a0_0x5aa0da,_0x1af6ea=this[_0x3f6d03(0x1e0)],_0x3b23d3=this['compassR'],_0x1ad40c=this[_0x3f6d03(0x1e1)],_0x10ce53=this['centerX'],_0xbdf8fe=this[_0x3f6d03(0x16b)];_0x1af6ea[_0x3f6d03(0x1dc)](0x0,0x0,this[_0x3f6d03(0x277)]['width'],this[_0x3f6d03(0x277)][_0x3f6d03(0x172)]),_0x1af6ea[_0x3f6d03(0x1c7)](),_0x1af6ea[_0x3f6d03(0x22b)](_0x10ce53,_0xbdf8fe,_0x1ad40c,0x0,0x2*Math['PI']),_0x1af6ea[_0x3f6d03(0x242)]=0x8,_0x1af6ea['strokeStyle']=this[_0x3f6d03(0x22d)],_0x1af6ea['stroke']();const _0x55911e=0.9*this[_0x3f6d03(0x1ff)][_0x3f6d03(0x23e)]['breath']*_0x3b23d3,_0x2d31dd=_0x10ce53+_0x55911e*Math[_0x3f6d03(0x19e)](_0x22dd98),_0x1aa527=_0xbdf8fe+_0x55911e*Math[_0x3f6d03(0x1cc)](_0x22dd98);_0x1af6ea['beginPath'](),_0x1af6ea[_0x3f6d03(0x240)](_0x10ce53,_0xbdf8fe),_0x1af6ea[_0x3f6d03(0x1d5)](_0x2d31dd,_0x1aa527),_0x1af6ea[_0x3f6d03(0x242)]=0x4,_0x1af6ea[_0x3f6d03(0x23b)]=_0x3f6d03(0x1b5),_0x1af6ea[_0x3f6d03(0x1b7)](),_0x1af6ea['beginPath'](),_0x1af6ea['arc'](_0x10ce53,_0xbdf8fe,0x4,0x0,0x2*Math['PI']),_0x1af6ea[_0x3f6d03(0x1f4)]=_0x3f6d03(0x1b5),_0x1af6ea['fill']();}}