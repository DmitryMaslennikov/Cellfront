const a0_0x3d9128=a0_0x2173;function a0_0x2173(_0x154150,_0x248fb7){const _0x1b0096=a0_0xca6f();return a0_0x2173=function(_0x5a1164,_0x109305){_0x5a1164=_0x5a1164-0xd7;let _0xca6fef=_0x1b0096[_0x5a1164];if(a0_0x2173['lzYXbD']===undefined){var _0x217378=function(_0x57d4aa){const _0x160260='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x8b8e7c='',_0x4bb392='',_0x3d9983=_0x8b8e7c+_0x217378;for(let _0xd5749d=0x0,_0x191b46,_0x4e1f14,_0x1c69eb=0x0;_0x4e1f14=_0x57d4aa['charAt'](_0x1c69eb++);~_0x4e1f14&&(_0x191b46=_0xd5749d%0x4?_0x191b46*0x40+_0x4e1f14:_0x4e1f14,_0xd5749d++%0x4)?_0x8b8e7c+=_0x3d9983['charCodeAt'](_0x1c69eb+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x191b46>>(-0x2*_0xd5749d&0x6)):_0xd5749d:0x0){_0x4e1f14=_0x160260['indexOf'](_0x4e1f14);}for(let _0x5a9e3f=0x0,_0x40bf26=_0x8b8e7c['length'];_0x5a9e3f<_0x40bf26;_0x5a9e3f++){_0x4bb392+='%'+('00'+_0x8b8e7c['charCodeAt'](_0x5a9e3f)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4bb392);};const _0x300d58=function(_0x234f1b,_0x5bf32b){let _0xd54a2a=[],_0x2286c0=0x0,_0x5e3bd0,_0x20821e='';_0x234f1b=_0x217378(_0x234f1b);let _0x6d0bbc;for(_0x6d0bbc=0x0;_0x6d0bbc<0x100;_0x6d0bbc++){_0xd54a2a[_0x6d0bbc]=_0x6d0bbc;}for(_0x6d0bbc=0x0;_0x6d0bbc<0x100;_0x6d0bbc++){_0x2286c0=(_0x2286c0+_0xd54a2a[_0x6d0bbc]+_0x5bf32b['charCodeAt'](_0x6d0bbc%_0x5bf32b['length']))%0x100,_0x5e3bd0=_0xd54a2a[_0x6d0bbc],_0xd54a2a[_0x6d0bbc]=_0xd54a2a[_0x2286c0],_0xd54a2a[_0x2286c0]=_0x5e3bd0;}_0x6d0bbc=0x0,_0x2286c0=0x0;for(let _0x99b42e=0x0;_0x99b42e<_0x234f1b['length'];_0x99b42e++){_0x6d0bbc=(_0x6d0bbc+0x1)%0x100,_0x2286c0=(_0x2286c0+_0xd54a2a[_0x6d0bbc])%0x100,_0x5e3bd0=_0xd54a2a[_0x6d0bbc],_0xd54a2a[_0x6d0bbc]=_0xd54a2a[_0x2286c0],_0xd54a2a[_0x2286c0]=_0x5e3bd0,_0x20821e+=String['fromCharCode'](_0x234f1b['charCodeAt'](_0x99b42e)^_0xd54a2a[(_0xd54a2a[_0x6d0bbc]+_0xd54a2a[_0x2286c0])%0x100]);}return _0x20821e;};a0_0x2173['nWuYZg']=_0x300d58,_0x154150=arguments,a0_0x2173['lzYXbD']=!![];}const _0xe7fdfc=_0x1b0096[0x0],_0x5ddd64=_0x5a1164+_0xe7fdfc,_0x2a536f=_0x154150[_0x5ddd64];if(!_0x2a536f){if(a0_0x2173['KdUFmN']===undefined){const _0x2710e6=function(_0x5b6a44){this['VssCnc']=_0x5b6a44,this['rcYiGV']=[0x1,0x0,0x0],this['IyHQsC']=function(){return'newState';},this['HIkqwX']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['PaGory']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x2710e6['prototype']['yxtoTa']=function(){const _0x2895c8=new RegExp(this['HIkqwX']+this['PaGory']),_0x1bf368=_0x2895c8['test'](this['IyHQsC']['toString']())?--this['rcYiGV'][0x1]:--this['rcYiGV'][0x0];return this['VFfxUW'](_0x1bf368);},_0x2710e6['prototype']['VFfxUW']=function(_0x1b91a8){if(!Boolean(~_0x1b91a8))return _0x1b91a8;return this['EDSKbz'](this['VssCnc']);},_0x2710e6['prototype']['EDSKbz']=function(_0x57249e){for(let _0x1637c7=0x0,_0x4c2db6=this['rcYiGV']['length'];_0x1637c7<_0x4c2db6;_0x1637c7++){this['rcYiGV']['push'](Math['round'](Math['random']())),_0x4c2db6=this['rcYiGV']['length'];}return _0x57249e(this['rcYiGV'][0x0]);},new _0x2710e6(a0_0x2173)['yxtoTa'](),a0_0x2173['KdUFmN']=!![];}_0xca6fef=a0_0x2173['nWuYZg'](_0xca6fef,_0x109305),_0x154150[_0x5ddd64]=_0xca6fef;}else _0xca6fef=_0x2a536f;return _0xca6fef;},a0_0x2173(_0x154150,_0x248fb7);}(function(_0x36ae0c,_0x249b26){const _0x110990=a0_0x2173,_0x59f956=_0x36ae0c();while(!![]){try{const _0x4a9cfc=-parseInt(_0x110990(0x134,'Stre'))/0x1+parseInt(_0x110990(0xd7,'kr*G'))/0x2+parseInt(_0x110990(0x196,'Stre'))/0x3*(parseInt(_0x110990(0x1ac,'l3hK'))/0x4)+parseInt(_0x110990(0x152,'0U%y'))/0x5*(-parseInt(_0x110990(0xe3,'J%vO'))/0x6)+-parseInt(_0x110990(0x190,'0Mio'))/0x7*(-parseInt(_0x110990(0x1a6,'0!NO'))/0x8)+parseInt(_0x110990(0x183,'VwN0'))/0x9+-parseInt(_0x110990(0x106,'up6['))/0xa;if(_0x4a9cfc===_0x249b26)break;else _0x59f956['push'](_0x59f956['shift']());}catch(_0x291c3f){_0x59f956['push'](_0x59f956['shift']());}}}(a0_0xca6f,0x679e5));function a0_0xca6f(){const _0x4087e6=['WQ/cHCkxW5/cPW','W7NcVbpcJmktWRq8W6tdOG','q0y4fvNcMq','k8oxeWRdUa','W6NdM8kGkNDjW7ddOmoG','W5rmWQ4','W4pcJmoYW6xcPa','cmofxSopyW','c8kOmt3cJryRbG','s8omp0RcOSkdr8ojW4NcMr51W4W','WQHjrtBcTG','a8kJjCkpASo7D2xdQW','dL4BW53cHmkHWRiTF1ZdKJK','gmkZoZlcNraKdCor','vmk7k8kKW67cHSk+W5hcVq','WR7dKrtcNq','WRFdJaO','vSoheuxcKmkwzmoEW5xcJG','ftNdKSoHu1W','WQNdO8ohCrldJNmAqq','lCoLWOWVWRuDW5C','W6iletdcO8oHnwS5','W6Xdl8kBamkbWPtdJvldLa','mCo/WR40WQu','r0mLdKm','W5lcLae6W7/dPSkoWQe','gCoPpCo2xq','dmkPW4X4','bSkKACo+iSknWOSjW48p','W5n2cxdcHW','W6/dMbmb','W6FdUxCBW7q','ESo5W44','E8kyW5ldJuq','gCoToCoNxa','W7Hgkmkedmkq','W7TEkmkjda','dCktF8oSxa','W5bfWRNdJfm','pMFdKNRdTG','bLqDWPS','eSkHBSoHlSkCWQWaW5iy','W7JdRguBW4pcRepcG3FdT8o1FSotW47dPSoiWOhcHJKdyKO','W4FcGXSXW5NdVCkxWQhcLW','c8kNWR7cO8k2WOa','h8kUos3cUW','cmk+W4XWWPhcNmkezq','WOldLL9OWPJcUmoeWQ3cR8kVxmoetG','vmkRnSkLW7lcMSk6','WPq1wsxcJ8kQW64oW6Li','W4VcG8oV','yCkMW7bW','W5lcLae6','W5tcLHGYW5u','W6JcLmkMeLRdLSklnSo0WPacW5LVWPBcMa','CmkSW7vTW67cICoExuOaWRJcLmk/WPS','ACo1W5KsWQGAW6LCW5m','ECoDf8kBga','W73cG8kSfW','WQ/cGCktW47cPG','asy+W6i','fJiTW6ldUSoh','h8kIWRNcVmk6WPeIcGJdUG','bmk2mSkbA8oSrMhdTJyrlCk7i8k0W71q','zmknW4ddJxnLW7q/W4tdLIxcSCk/W7JdPYNdTcJcUCo4DNO','WRP2kCkXma8','aciGW7pdOq','WRpdR8oCBGldJNmAuCoWWRVdUgvN','b8oDW4RcGmoG','W7PpoSkshmkqWOldHfu','nL3cNIzcaCoUFH0RW796W5O','DH3dJ2uF','eCk5BSoSlG','uLSRfvq','W5eFW4q','eCkKyq','bfqn','cmk/os3cTGW','y8ohfCkaemoWWOO','pSorfXtdPmoZeMT9','WQVdHHtcL8kjW5i0nSkYW6SRW5JdGq0','iCoKWQOUWRqMW50gWQBcGG','hSoowSoqEwe','umozWOP2WPaDW6VdQW','gSkCWPfNWOu','W5xcLSo2W7ZcUa','W77dK8kTevHhW6BdQW','W6tdOxCmW7tcPe/cG2xdQW','W67dHSkInve','WRODdmkEd8kMWRhdTW','hSoFwSowFW','Ddmnm8oFWQO','ESkdW4tdIG','W4PFWRhdJhhcUCk9ra','t2KOvmk2W5Wlbmo7sSoyma','CSkLW716W63cLa','W4zFWR3dLu/cMCkXsCkK','emkIEmoR','guSFW4ZcIa','W6/dL8kWlKfuW6BdQ8oN','WQT0kCk1ia','nSowha','fmkOm8knzSoBCwNdTG','adi/W7NdP8ogoSouza','W6mYyfdcKZebWOz/W50','W4XJgv9YnhidWOldHaFdHG','W48kW50aW6y','W7HfpG','ESkjW5RdL35LW7m0W4/dGaJdOq','gmo8k8o8tbNcRIFdPa','uumRgftcMbNdU0xcGq','qwr7WQpcOmkao8oertVcGMq','mrNdVqOl','WQTWlCkKiq','kh3dLMpdQG','bSkOBSoSi8kD','gCoqW5pcH8owWO/cVWKlCr7cS8oedCkF','pSorfXtdPa','W7BdP8kFmCkT','fCkUWQFcRSkaWP0IcbJdHMZdP2dcPG','W48kW50gW7CFzWWgWOy','WQPHjCk+dqNdUc8','W6vlmq','W4LjWQhdS3HFvCocWP8I','xmkEdmkBlt/dSCoqBXxcSL7dUq','cCocxCoeC2RcSSojxHy','W4BcKGKQW4K','hmk4W4rGWQC','AaJdLG','aSkYn8kuEG','W5PeWQZdQvHdySokWP8PWQW','BZWaomoDWQjk','BSkOW693W5RcG8ofueKcWQ/cMCkUWOxdUM9ZW4RcLSojWPiz','pNBdH17dSL3cHYztWPubEGu','W5FcJXOQW4tdVa','gu8BW53cIq','WQdcVInFW73cI0/cN3ldIW','WR5tqs/cQSoCp3mQWQyu','c8ohvmonAa','WQRdLXZcJCkk','sSoDn1dcMa','WQxcVszDWQddV0BcTgJdISoiwG','a1uzW4BcGCkBWPK','swuIuq','WR7cMmkeW5/cQSkH','xmo4WPuJW7RdGmohrSoDWQiTfZm','vmoRyghdRe43lCoawt1l','rxZdSSoJqxbHW4e','WR5tqs/cQG','FSogjCkBd8o8WRtdLq','DdCkoCoVWQjHWQ3cR8opW4TC','W7FdSSkqiCkNuG','WQZdNG/dLCkX','EmkaW5ldMKrTW7G/W5BdIG','DdCkoCowWQH9WQVcP8oBW7earbm','jh3dKghdVKRcTG','vgiIvCkeW5WG','jr/dTrO9vw3dGq','b8kZndxcUXS','W4PrWQhdVNG','BSoOW5SnWO4','t2KIw8kfW5O3bmoLxmoYC2VdO8on','g8kjWP53WO80','W4WsW50xW6y','BCoBh8kl','gmkQWRpcUCkaWOC6','W4GxW58FW4aGEGmb','BCkNW4HQW6VcJq','wN4OxG','W6BdUhGbW7JcP00','k8oteWddUmot','dSkzyrldICoeg8obW7VcPrXOWRu','bYtdGa','bs7dHmoLuW','WQ7dUSobFZu','W6JcLmk2hepdH8k6nSo0','zSkjW4VdJxjVW6G/W4BdVchcT8k0W6e','b8kJASo1mG','W6ddPhue','hdi0W6ldGCoBlmoFCXxcMhDoW5BdMW','WQ9sDZBcOCoQixG','cmk+W4XW','WRldMCoTxr3cNmoYESkSW5zCWO8','W6ZcQWNcH8k1WQ8LW6q','bSkEAa','WQ/cHCkxW5NcTSkvaCofsmk5W5tcGuW','W6JcUaZcGmk1WRmY','WR1rsY3cOq','AmkivmoCwmo3WR/dTbOS','tNGGtSkm','dSoevCorBNVcSSogxGdcMa','F8oUW58yWP8D','B8kOW6q','hSk/kZBcQW0YbSow','ESoUW5mDWRGCW6zx','WR7dKrtcNCk8W5q8ma','Emkcqmoat8ok','laJdPaO9u2ldIKldMaFcNeXcBG','W4FcKWyWW4xdOCkt','W7hdUSkDlSkluamUWOy','WRSzFSoiw8owWOpdLhtdHLpcIa','bCoqW4lcNCoAWPdcPGywurRcICky','rSkaWPZdISkYW5BdVbiQtJdcJSoW','wgiKv8kqW6Sacmo4','Emktqmogsq','W5nYdwhcHG','cCk0pttcPW','W6NcHCkKb1m','W6RdGWGrWOFdOq','gCkeWPfWWOu0W7tdJWRdIq','CCk9W713W60','e8oqW4RcH8oTWPm','W5FdKSkWaCkhCIKsWRpdMgHX','rL0Jbq','WO4NsbKM','WRRcNCkzW4tcSa','ec7dG8oxtLPFW7iN','WRaBCCofw8otWOFdR0pdMfZcRW','emkOFmo3pSkCWP0aW4G','W7JcRqhcL8kd','WQTrrtVcTSoX','W6BdRhGlW77cPa','pmongX0','h8oosmonB3VcPmoawq','kmoleW3dUa','WQHjsZi'];a0_0xca6f=function(){return _0x4087e6;};return a0_0xca6f();}const a0_0x109305=(function(){let _0x8b8e7c=!![];return function(_0x4bb392,_0x3d9983){const _0xd5749d=_0x8b8e7c?function(){const _0x35fa82=a0_0x2173;if(_0x3d9983){const _0x191b46=_0x3d9983[_0x35fa82(0x172,'#wQu')](_0x4bb392,arguments);return _0x3d9983=null,_0x191b46;}}:function(){};return _0x8b8e7c=![],_0xd5749d;};}()),a0_0x5a1164=a0_0x109305(this,function(){const _0x350dcf=a0_0x2173;return a0_0x5a1164[_0x350dcf(0x10f,'0U%y')]()[_0x350dcf(0x18f,'kr*G')](_0x350dcf(0x111,'mkZg'))[_0x350dcf(0xf0,'@l85')]()[_0x350dcf(0x119,'kr*G')](a0_0x5a1164)[_0x350dcf(0x11f,'L^97')]('(((.+)+)+)+$');});a0_0x5a1164();import{GameState}from'./gameState.js';import{tryPlaceAI}from'./ai.js';import{saveData}from'./persistence.js';export class GameEngine{constructor(_0x4e1f14,_0x1c69eb,{onTick:onTick=()=>{},onGameOver:onGameOver=()=>{},onSound:onSound=()=>{}}={}){const _0x2a13d7=a0_0x2173;this['state']=new GameState(_0x4e1f14,_0x1c69eb),this[_0x2a13d7(0x13f,'EFLw')]={},this[_0x2a13d7(0x12e,'18dZ')]={},this[_0x2a13d7(0xf4,'Bd(3')]={},this[_0x2a13d7(0xf9,'csc*')]={},this['lastReinforcementPower']=0x0,this[_0x2a13d7(0x102,'X[tx')]=onTick,this[_0x2a13d7(0x14e,'up6[')]=onGameOver,this[_0x2a13d7(0x151,'!wx&')]=onSound;}[a0_0x3d9128(0xe0,'Lh&M')](_0x5a9e3f){const _0x51827f=a0_0x3d9128;this[_0x51827f(0x131,'0!NO')][_0x51827f(0xd8,'kr*G')]=_0x5a9e3f[_0x51827f(0x17b,'uaFZ')],this[_0x51827f(0xe6,'K7R%')][_0x51827f(0x17e,'d8De')]=_0x5a9e3f[_0x51827f(0x11a,'7!9I')],this[_0x51827f(0x164,'Lh&M')]['reinforcements']=_0x5a9e3f[_0x51827f(0x174,'X[tx')];}[a0_0x3d9128(0x19a,'xgUj')](){const _0x15b152=a0_0x3d9128;this[_0x15b152(0x1a7,'HjMB')][_0x15b152(0x108,'o^0m')]();const {rows:_0x40bf26,cols:_0x234f1b}=this[_0x15b152(0xe2,'x047')]['gridSize'];for(let _0x5bf32b=0x0;_0x5bf32b<0x9&&_0x5bf32b<_0x40bf26;_0x5bf32b++){for(let _0xd54a2a=_0x234f1b-0x9;_0xd54a2a<_0x234f1b;_0xd54a2a++){Math[_0x15b152(0x198,'wTwK')]()<0.5&&(this[_0x15b152(0x161,'Stre')][_0x15b152(0x110,'2mVs')][_0x5bf32b][_0xd54a2a]=0x1,this[_0x15b152(0x195,'gCzv')][_0x15b152(0x139,'#Vvw')][_0x40bf26-_0x5bf32b-0x1][_0x234f1b-_0xd54a2a-0x1]=-0x1);}}}['setupAnimations'](){const _0x1fa4fe=a0_0x3d9128;this[_0x1fa4fe(0xeb,'oa!G')]={},this[_0x1fa4fe(0x18a,'csc*')]={},this['placements']={};}['updateRandomCells'](){const _0x43e07f=a0_0x3d9128,{rows:_0x2286c0,cols:_0x5e3bd0}=this['state'][_0x43e07f(0x11e,'K7R%')];let _0x20821e=Math[_0x43e07f(0x132,'oa!G')](_0x2286c0*_0x5e3bd0*this[_0x43e07f(0x191,'0Mio')][_0x43e07f(0x12f,'(Z!U')]*this[_0x43e07f(0x197,'kr*G')][_0x43e07f(0x157,'h0Z9')]+Math[_0x43e07f(0x198,'wTwK')]());while(_0x20821e--){const _0x6d0bbc=Math[_0x43e07f(0x155,'EFLw')](Math[_0x43e07f(0xfd,'0Mio')]()*_0x2286c0),_0x99b42e=Math[_0x43e07f(0x116,'0U%y')](Math['random']()*_0x5e3bd0),_0x2710e6=this[_0x43e07f(0xfa,'tt9$')][_0x43e07f(0xff,'@l85')][_0x6d0bbc][_0x99b42e],_0x5b6a44=this[_0x43e07f(0x100,'uaFZ')](_0x6d0bbc,_0x99b42e),_0x2895c8=_0x2710e6+','+_0x5b6a44,_0x1bf368=this['state'][_0x43e07f(0x17f,'l3hK')][_0x43e07f(0x15d,'7!9I')](_0x2895c8)||0x0,_0x1b91a8=Math[_0x43e07f(0x162,'6XYK')](Math['random']()+_0x1bf368);this[_0x43e07f(0x12d,'X[tx')][_0x43e07f(0x15b,'C6MT')][_0x6d0bbc][_0x99b42e]=_0x1b91a8;const _0x57249e=this[_0x43e07f(0x154,'!wx&')]['tickCount'];_0x2710e6!==0x0&&_0x1b91a8===0x0&&(this[_0x43e07f(0x1b0,'e^PS')][_0x6d0bbc+','+_0x99b42e]=_0x57249e,!this[_0x43e07f(0x10b,'Bd(3')]&&this['calcEnemies'](_0x2710e6,_0x6d0bbc,_0x99b42e)>0x0&&(this[_0x43e07f(0x1b4,'uaFZ')]=_0x2710e6>0x0?_0x43e07f(0x149,'x047'):_0x43e07f(0x1a5,'aCsE'))),_0x2710e6===0x0&&_0x1b91a8!==0x0&&(this[_0x43e07f(0x12b,'C6MT')][_0x6d0bbc+','+_0x99b42e]=_0x57249e);}}[a0_0x3d9128(0xfc,'pUmh')](){const _0x2a789f=a0_0x3d9128,{rows:_0x1637c7}=this[_0x2a789f(0x192,'aek0')][_0x2a789f(0x145,'csc*')],{player:_0x4c2db6,enemy:_0x3fda24}=this['state'][_0x2a789f(0x117,'L^97')](),_0x47c666=Math[_0x2a789f(0x188,'e^PS')](this[_0x2a789f(0xdc,'ATzU')][_0x2a789f(0x140,'#Vvw')]),_0x2c49a1=0x1+this[_0x2a789f(0xd9,'#wQu')][_0x2a789f(0x17e,'d8De')]*_0x47c666,_0x2cb90d=0x1-this[_0x2a789f(0x136,'E^U9')][_0x2a789f(0x14f,'o^0m')]*_0x47c666,_0x4e5ef8=Math[_0x2a789f(0x107,'o^0m')](_0x4c2db6,0.25)*0.025*Math['sqrt'](_0x1637c7)/(0x1+this[_0x2a789f(0xda,'2mVs')]['reinforcements']),_0x43364a=Math[_0x2a789f(0x1a8,'Stre')](_0x3fda24,0.25)*0.025*Math[_0x2a789f(0x179,'l3hK')](_0x1637c7)/(0x1+this[_0x2a789f(0x128,'ow)1')][_0x2a789f(0xf5,'wTwK')]),_0x2f4dff=0x14*this['state'][_0x2a789f(0x15a,'ow)1')]/0x3e8;this[_0x2a789f(0x184,'VwN0')][_0x2a789f(0x148,'ATzU')]['incomeP']=_0x4e5ef8*_0x2c49a1,this[_0x2a789f(0x1b3,'(Z!U')][_0x2a789f(0x10a,'mkZg')][_0x2a789f(0xe9,'x047')]=_0x43364a*_0x2cb90d*this[_0x2a789f(0x184,'VwN0')][_0x2a789f(0x153,'Stre')];const _0x3fdb6b=Math[_0x2a789f(0x187,'HjMB')](Math[_0x2a789f(0x142,'tt9$')](this['state'][_0x2a789f(0x141,'gCzv')],0xa*_0x1637c7*this[_0x2a789f(0xfa,'tt9$')][_0x2a789f(0x150,'EmwS')]**0.5),0xfa0),_0x1975a1=this[_0x2a789f(0xd9,'#wQu')][_0x2a789f(0x18d,'K7R%')],_0x185f12=this[_0x2a789f(0x1ae,'d8De')][_0x2a789f(0x166,'e^PS')]*0x96/_0x3fdb6b,_0x1cf0d6=this['state'][_0x2a789f(0x1a3,'ATzU')]*0x96/_0x3fdb6b;this['state']['resources'][_0x2a789f(0xf6,'Lh&M')]+=_0x185f12,this[_0x2a789f(0x163,'xgUj')][_0x2a789f(0x182,'Stre')][_0x2a789f(0xde,'wTwK')]+=_0x1cf0d6,this[_0x2a789f(0x118,'pUmh')]['playerRein']-=this[_0x2a789f(0x128,'ow)1')]['playerRein']*0x96/_0x3fdb6b*_0x2f4dff,this['state'][_0x2a789f(0x19d,'xgUj')]-=this[_0x2a789f(0x15e,'Bd(3')][_0x2a789f(0x126,'pUmh')]*0x96/_0x3fdb6b*_0x2f4dff,this[_0x2a789f(0x15f,'h0Z9')][_0x2a789f(0x1aa,'h0Z9')][_0x2a789f(0x105,'#Vvw')]+=this[_0x2a789f(0x16a,'csc*')][_0x2a789f(0x13e,'E^U9')][_0x2a789f(0x18b,'@l85')]*_0x2f4dff,this[_0x2a789f(0x13b,'#Vvw')][_0x2a789f(0x11c,'csc*')][_0x2a789f(0xef,'0U%y')]+=this['state'][_0x2a789f(0x135,'e^PS')][_0x2a789f(0xf7,'pUmh')]*_0x2f4dff,this[_0x2a789f(0xdf,'X[tx')]*=0x1-_0x2f4dff;const _0x492084=_0x185f12*0.5+_0x4e5ef8,_0x15c041=_0x1cf0d6/(0.000001+this[_0x2a789f(0x13d,'oa!G')][_0x2a789f(0x159,'e^PS')])*0.5+_0x43364a;let _0x50df69=Math[_0x2a789f(0x113,'6XYK')](this['state'][_0x2a789f(0x1a4,'l3hK')][_0x2a789f(0x160,'Stre')]+_0x4c2db6-this[_0x2a789f(0x15c,'J%vO')][_0x2a789f(0x14b,'*XBB')][_0x2a789f(0x1b2,'#Vvw')],0x1),_0x1f7344=Math[_0x2a789f(0xdb,'VwN0')](this['state'][_0x2a789f(0x1a0,'gCzv')][_0x2a789f(0x129,'csc*')]+_0x3fda24-this[_0x2a789f(0x186,'EFLw')]['resources'][_0x2a789f(0x169,'uaFZ')],0x1),_0x47fd58=Math['max'](_0x50df69+this[_0x2a789f(0x15f,'h0Z9')][_0x2a789f(0x1b8,'tt9$')]*0.5,0x1),_0x7dafd4=Math[_0x2a789f(0x1b7,'Stre')](_0x1f7344+this[_0x2a789f(0x15f,'h0Z9')]['enemyRein']*0.5,0x1);const _0x33c5ca=Math[_0x2a789f(0x1a2,'#Vvw')](Math[_0x2a789f(0x16f,'aek0')](0x1,_0x50df69/_0x7dafd4/0x2,_0x1f7344/0x2/_0x47fd58),0x10),_0x213008=0.5/(0.02*_0x3fdb6b)*_0x1975a1**0.5*_0x33c5ca**0.5,_0x54efc8=Math[_0x2a789f(0x11b,'X[tx')](_0x15c041-_0x492084*0x0,0x0)/_0x213008*_0x1975a1**0.5*_0x33c5ca**0.2,_0xf22db5=Math['max'](_0x492084-_0x15c041*0x0,0x0)*this[_0x2a789f(0x176,'@l85')]['difficulty']/_0x213008*_0x1975a1**0.5*_0x33c5ca**0.2;this['state'][_0x2a789f(0x1b6,'d8De')]={'reinSecond':_0x213008,'playerReinSize':_0x54efc8,'enemyReinSize':_0xf22db5};if(Math[_0x2a789f(0xf2,'(Z!U')]()<_0x213008*_0x2f4dff){let _0x27cfec=_0x54efc8;this[_0x2a789f(0xe7,'up6[')][_0x2a789f(0x1ab,'EFLw')]+=_0x27cfec,this[_0x2a789f(0x17d,'Bd(3')]+=_0x27cfec;if(_0x27cfec>=0.5*_0x1637c7){if(_0x27cfec<1.5*_0x1637c7)this[_0x2a789f(0x1b1,'18dZ')]=_0x2a789f(0x146,'up6[');else _0x27cfec<0x5*_0x1637c7?this[_0x2a789f(0x1b1,'18dZ')]=_0x2a789f(0x124,'18dZ'):this['nextSoundEvent2']='rein_player_3';}}if(Math[_0x2a789f(0x138,'J%vO')]()<_0x213008*_0x2f4dff){let _0x71a873=_0xf22db5;this[_0x2a789f(0x16a,'csc*')][_0x2a789f(0x18c,'#Vvw')]+=_0x71a873,this[_0x2a789f(0x167,'J%vO')]-=_0x71a873;if(_0x71a873>=0.5*_0x1637c7){if(_0x71a873<1.5*_0x1637c7)this[_0x2a789f(0x120,'2@1g')]=_0x2a789f(0x19b,'pUmh');else _0x71a873<0x5*_0x1637c7?this[_0x2a789f(0x10e,'l3hK')]=_0x2a789f(0xf1,'wTwK'):this['nextSoundEvent2']=_0x2a789f(0x1a9,'Bd(3');}}}[a0_0x3d9128(0x10d,'J%vO')](){const _0x15249e=a0_0x3d9128;this[_0x15249e(0xe2,'x047')][_0x15249e(0x122,'(Z!U')]+=this[_0x15249e(0xf3,'6VGT')][_0x15249e(0x19f,'x047')],this[_0x15249e(0x12a,'mkZg')][_0x15249e(0x181,'18dZ')]=this[_0x15249e(0x195,'gCzv')][_0x15249e(0x1b5,'HjMB')]+3.14*Math[_0x15249e(0x165,'x047')](0x64+this['state'][_0x15249e(0x175,'7!9I')]),this[_0x15249e(0x17c,'ATzU')](),this[_0x15249e(0x173,'mkZg')]();if(Math[_0x15249e(0xe5,'kr*G')](this[_0x15249e(0x164,'Lh&M')][_0x15249e(0x175,'7!9I')]%0x4/this[_0x15249e(0x1ad,'2@1g')][_0x15249e(0x109,'EmwS')])==0x0)for(let _0x524071=0x0;_0x524071<Math[_0x15249e(0x158,'2mVs')](this[_0x15249e(0x16a,'csc*')][_0x15249e(0x178,'oa!G')]/0x4);_0x524071++){const _0x18fb57=tryPlaceAI(this[_0x15249e(0xdc,'ATzU')]);_0x18fb57&&(this[_0x15249e(0x154,'!wx&')]['grid'][_0x18fb57['r']][_0x18fb57['c']]=-0x1,this[_0x15249e(0x12c,'0Mio')][_0x18fb57['r']+','+_0x18fb57['c']]={'time':this[_0x15249e(0xda,'2mVs')][_0x15249e(0x101,'HjMB')],'type':_0x15249e(0x143,'aek0')},this[_0x15249e(0x185,'e^PS')][_0x15249e(0x13a,'kr*G')][_0x15249e(0x10c,'e^PS')]--,this[_0x15249e(0x180,'EmwS')]=_0x15249e(0xe4,'0U%y'));}Math['floor'](this[_0x15249e(0xfb,'7!9I')][_0x15249e(0x14a,'csc*')]%0x14/this['state'][_0x15249e(0x1a1,'d8De')])==0x0&&saveData(this[_0x15249e(0x118,'pUmh')],'game-state'),this['onTick'](this[_0x15249e(0x1a7,'HjMB')],{'births':this[_0x15249e(0xe1,'#wQu')],'deaths':this[_0x15249e(0x17a,'l3hK')],'placements':this[_0x15249e(0x194,'J%vO')]});}[a0_0x3d9128(0x114,'oa!G')](){const _0x90d1e0=a0_0x3d9128;this[_0x90d1e0(0x12d,'X[tx')][_0x90d1e0(0x121,'#wQu')]=!![];const _0x2e7f97=()=>{const _0x3e944b=_0x90d1e0;if(!this['state'][_0x3e944b(0x16d,'*XBB')])return;const _0x48c010=performance[_0x3e944b(0x189,'x047')]();this[_0x3e944b(0x127,'L^97')][_0x3e944b(0x178,'oa!G')]>0x0&&this[_0x3e944b(0xea,'pUmh')]();const _0x55eceb=performance[_0x3e944b(0x14d,'K7R%')]()-_0x48c010;setTimeout(_0x2e7f97,Math[_0x3e944b(0x187,'HjMB')](0x0,0x14-_0x55eceb));};_0x2e7f97();}[a0_0x3d9128(0x13c,'0U%y')](){const _0x47a86a=a0_0x3d9128;this[_0x47a86a(0x16a,'csc*')][_0x47a86a(0x104,'J%vO')]=![];}[a0_0x3d9128(0x133,'o^0m')](){const _0x3f09cf=a0_0x3d9128,{player:_0x1076ce,enemy:_0xc90ea0}=this['state'][_0x3f09cf(0x18e,'!wx&')]();if(_0x1076ce===0x0)return _0x3f09cf(0x1af,'Lh&M');if(_0xc90ea0===0x0)return _0x3f09cf(0x19c,'X[tx');return null;}[a0_0x3d9128(0x100,'uaFZ')](_0x4ecac7,_0x2efa86){const _0x528a3a=a0_0x3d9128;let _0x5ce223=0x0;for(let _0x81e358=-0x1;_0x81e358<=0x1;_0x81e358++){for(let _0x74984=-0x1;_0x74984<=0x1;_0x74984++){if(_0x81e358||_0x74984){const _0x577446=_0x4ecac7+_0x81e358,_0x46ae0b=_0x2efa86+_0x74984;_0x577446>=0x0&&_0x577446<this[_0x528a3a(0x12a,'mkZg')][_0x528a3a(0x11d,'7!9I')]['rows']&&_0x46ae0b>=0x0&&_0x46ae0b<this[_0x528a3a(0x12a,'mkZg')][_0x528a3a(0x112,'E^U9')][_0x528a3a(0x170,'X[tx')]&&(_0x5ce223+=this[_0x528a3a(0xd9,'#wQu')][_0x528a3a(0x14c,'K7R%')][_0x577446][_0x46ae0b]);}}}return _0x5ce223;}[a0_0x3d9128(0xdd,'tt9$')](_0x43e007,_0x1976ea,_0x165922){const _0x4153d0=a0_0x3d9128;let _0x1a3ea4=0x0;for(let _0x137b85=-0x1;_0x137b85<=0x1;_0x137b85++){for(let _0x5a0c1e=-0x1;_0x5a0c1e<=0x1;_0x5a0c1e++){if(_0x137b85||_0x5a0c1e){const _0x20a381=_0x1976ea+_0x137b85,_0x3bdd8e=_0x165922+_0x5a0c1e;if(_0x20a381>=0x0&&_0x20a381<this[_0x4153d0(0xe6,'K7R%')][_0x4153d0(0xf8,'2@1g')][_0x4153d0(0x199,'Bd(3')]&&_0x3bdd8e>=0x0&&_0x3bdd8e<this[_0x4153d0(0x136,'E^U9')][_0x4153d0(0x16b,'2mVs')]['cols']){const _0x59e451=this[_0x4153d0(0x12d,'X[tx')][_0x4153d0(0x130,'EFLw')][_0x20a381][_0x3bdd8e];_0x1a3ea4+=_0x43e007*_0x59e451<0x0?-_0x43e007*_0x59e451:0x0;}}}}return _0x1a3ea4;}[a0_0x3d9128(0x193,'gCzv')](_0x2abd21,_0x2b9e59,_0x4332a5){const _0x27716d=a0_0x3d9128,_0x4ac2a0=_0x2abd21>0x0?this[_0x27716d(0x147,'0U%y')]['resources'][_0x27716d(0x137,'0U%y')]:this[_0x27716d(0x131,'0!NO')]['resources'][_0x27716d(0x144,'kr*G')];return _0x2b9e59>=0x0&&_0x2b9e59<this[_0x27716d(0x1ad,'2@1g')]['gridSize'][_0x27716d(0x19e,'e^PS')]&&_0x4332a5>=0x0&&_0x4332a5<this[_0x27716d(0x13d,'oa!G')][_0x27716d(0x156,'#wQu')]['cols']&&_0x4ac2a0>=0x1&&this['state'][_0x27716d(0x177,'mkZg')][_0x2b9e59][_0x4332a5]===0x0&&this[_0x27716d(0x115,'E^U9')](_0x2b9e59,_0x4332a5)*_0x2abd21>=0x0;}[a0_0x3d9128(0xfe,'HjMB')](_0x3c0083,_0x44a98a,_0x3c3222){const _0x3abd51=a0_0x3d9128;_0x3c0083>0x0?(this[_0x3abd51(0x12a,'mkZg')]['resources']['player']--,this[_0x3abd51(0x128,'ow)1')][_0x3abd51(0x103,'pUmh')][_0x44a98a][_0x3c3222]=0x1):(this[_0x3abd51(0x128,'ow)1')][_0x3abd51(0x168,'#wQu')][_0x3abd51(0x129,'csc*')]--,this[_0x3abd51(0xda,'2mVs')][_0x3abd51(0x171,'#wQu')][_0x44a98a][_0x3c3222]=-0x1);}}